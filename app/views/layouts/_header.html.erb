<!-- 
  This is another partial that will be displayed at the top of every page. This is the navbar or header. The navbar helps the user navigate the multiple scenes in an easy way. It always appears at the top and gives the current user all functionality that they have access too.
-->

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand">myQuote</a>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <%= link_to "Home", root_path, class: "nav-link" %>
        </li>
        
        <li class="nav-item">
          <%= link_to 'Quotes', quotes_path, class: "nav-link" %>
        </li>

        <li class="nav-item">
          <%= link_to 'Search', search_path, class: "nav-link" %>
        </li>

        <% if !logged_in? %>
          <li class="nav-item">
            <%= link_to 'Sign Up', signup_path, class: "nav-link" %>
          </li>
        <% end %>

        <% if !logged_in? %>
          <li class="nav-item">
            <%= link_to 'Sign In', login_path, class: "nav-link" %>
          </li>
        <% end %>

        <% if logged_in? && !is_administrator? %>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">User</a>
            <ul class="dropdown-menu">
              <%= link_to "My Account", userhome_path, class: "dropdown-item" %>
              <%= link_to "My Quotes", your_quotes_path, class: "dropdown-item" %>
              <li><hr class="dropdown-divider"></li>
              <%= link_to "Upload Quotes", upload_path, class: "dropdown-item" %>
              <li><hr class="dropdown-divider"></li>
              <%= button_to "Sign Out", logout_path, method: :delete, class:"dropdown-item"%>
            </ul>
          </li>
        <% end %>

        <% if logged_in? && is_administrator? %>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Admin</a>
            <ul class="dropdown-menu">
              <%= link_to "Admin Home", admin_path, class: "dropdown-item" %>
              <li><%= link_to 'Manage Users', users_path, class: "dropdown-item" %></li>
              <li><hr class="dropdown-divider"></li>
              <%= button_to "Sign Out", logout_path, method: :delete, class:"dropdown-item"%>
            </ul>
          </li>
        <% end %>
      </ul>
    </div>
  </div>
</nav>